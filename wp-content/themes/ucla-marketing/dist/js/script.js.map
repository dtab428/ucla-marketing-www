{"version":3,"sources":["script.js"],"names":["Core","selector","container","document","querySelector","$$","querySelectorAll","ready","fn","addEventListener","scrollTo","el","options","offset","undefined","onScreen","top","getBoundingClientRect","window","innerHeight","pos","scrollTop","scroll","left","behavior","documentElement","body","index","previousElementSibling","trigger","name","event","createEvent","initEvent","dispatchEvent","animate","duration","props","old","style","transition","count","counter","easing","ease","delay","complete","key","str","replace","tmp","toLowerCase","substring","length","end","t","setTimeout","end2","e","target","currentTarget","clearTimeout","removeEventListener","call","slideToggle","height","offsetHeight","padding","parseInt","getComputedStyle","offsetWidth","onEndHide","visibility","onEndShow","trapFocus","focusableElements","slice","filter","item","getAttribute","firstFocusableElement","lastFocusableElement","which","keyCode","shiftKey","activeElement","focus","preventDefault","$","Header","build","rootMargin","observer","IntersectionObserver","entries","forEach","isIntersecting","classList","remove","add","observe","Navigation","parentIsLink","toggleButton","touched","navOpen","isMobileNavOpen","open","close","contains","propertyName","i","insertAdjacentHTML","subnavButton","stopPropagation","toggleChildren","checkSubNavPosition","setAttribute","closest","clearSubNav","ul","button","parentNode","toggle","offsetParent","margin","innerWidth","App","queue","isReady","readyQueue","init","start","processQueue","push","shift","focusVisible","onBlur","app"],"mappings":"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","file":"script.js","sourcesContent":["/**\r\n * Select and return an element\r\n */\r\nfunction Core(selector, container) {\r\n\treturn typeof selector === \"string\"? (container || document).querySelector(selector) : selector || null;\r\n}\r\n\r\n/**\r\n * Select and return an array of elements\r\n */\r\nCore.$$ = function(selector, container) {\r\n\treturn typeof selector === \"string\"? (container || document).querySelectorAll(selector) : selector || null;\r\n};\r\n\r\n/**\r\n * DOM ready callback function\r\n */\r\nCore.ready = function(fn) {\r\n\tdocument.addEventListener(\"DOMContentLoaded\", fn);\r\n};\r\n\r\n/**\r\n * Scroll to an element\r\n */\r\nCore.scrollTo = function(el, options) {\r\n\tconst offset = !options || options.offset === undefined ? 0 : options.offset;\r\n\tconst onScreen = !options ||  options.onScreen === undefined ? false : options.onScreen;\r\n\tconst top = el.getBoundingClientRect().top;\r\n\r\n\tif(!onScreen || (top < offset || top > window.innerHeight)) {\r\n\t\tlet pos = top + Core.scrollTop() - offset;\r\n\r\n\t\twindow.scroll({top: pos, left: 0, behavior: \"smooth\"});\r\n\t}\r\n};\r\n\r\n/**\r\n * Get the distance in pixels to the top of the page\r\n */\r\nCore.scrollTop = function() {\r\n\treturn document.documentElement.scrollTop || document.body.scrollTop;\r\n};\r\n\r\n/**\r\n * Get the index of an element within its parent\r\n */\r\nCore.index = function(el) {\r\n\tlet index = 0;\r\n\r\n\twhile(el = el.previousElementSibling) {\r\n\t\tindex++;\r\n    }\r\n\r\n\treturn index;\r\n};\r\n\r\n/**\r\n * Triggers an event on an element\r\n */\r\nCore.trigger = function(el, name) {\r\n\tconst event = document.createEvent(\"HTMLEvents\");\r\n\tevent.initEvent(name, true, false);\r\n\tel.dispatchEvent(event);\r\n};\r\n\r\n/**\r\n * Animate an element using css transitions\r\n */\r\nCore.animate = function(el, duration, props) {\r\n\tconst old = el.style.transition;\r\n\tlet transition = \"\";\r\n\tlet count = 0;\r\n\tlet counter = 0;\r\n\tconst easing = props.ease || \"linear\";\r\n\tconst delay = props.delay || 0;\r\n\tconst complete = props.complete || null;\r\n\r\n\tfor(let key in props) {\r\n\t\tif(key == \"ease\" || key == \"delay\" || key == \"complete\") {\r\n\t\t\tdelete props[key];\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tconst str = key.replace(/([a-z])([A-Z])/g, \"$1-$2\");\r\n\t\tconst tmp = str.toLowerCase() + \" \" + duration + \"s \" + easing + \" \" + delay + \"s, \";\r\n\r\n\t\ttransition += tmp;\r\n\t\tcount++;\r\n\t}\r\n\r\n\tel.style.transition = transition.substring(0, transition.length - 2);\r\n\r\n\tfor(let key in props) {\r\n\t\tconst str = key.replace(/([a-z])([A-Z])/g, \"$1-$2\");\r\n\r\n\t\tel.style[key] = props[key];\r\n\t}\r\n\r\n\tel.addEventListener(\"transitionend\", end);\r\n\r\n\tconst t = setTimeout(end2, duration * 1000 + delay * 1000 + 50);\r\n\r\n\tfunction end(e) {\r\n\t\tif(++counter < count || e.target != e.currentTarget) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tclearTimeout(t);\r\n\t\tcounter = 0;\r\n\t\tend2();\r\n\t}\r\n\r\n\tfunction end2() {\r\n\t\tel.removeEventListener(\"transitionend\", end);\r\n\t\tel.style.transition = old;\r\n\r\n\t\tif(complete) {\r\n\t\t\tcomplete.call();\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/**\r\n * Show or hide an element with a slide animation\r\n */\r\nCore.slideToggle = function(el, complete) {\r\n\r\n\tlet height = el.offsetHeight;\r\n\tlet padding = parseInt(getComputedStyle(el)[\"padding-top\"], 10) + parseInt(getComputedStyle(el)[\"padding-bottom\"], 10);\r\n\r\n\t// Slide up\r\n\tif(height - padding > 0) {\r\n\t\tel.style.height = height + \"px\";\r\n\r\n\t\tvoid el.offsetWidth;\r\n\r\n\t\tel.style.height = \"0\";\r\n\t\tel.addEventListener(\"transitionend\", onEndHide);\r\n\t}\r\n\t// Slide down\r\n\telse {\r\n\t\tel.style.height = \"auto\";\r\n\t\theight = el.offsetHeight;\r\n\t\tel.style.height = \"0\";\r\n\t\tel.style.visibility = \"visible\";\r\n\r\n\t\tvoid el.offsetWidth;\r\n\r\n\t\tel.style.height = height + \"px\";\r\n\t\tel.addEventListener(\"transitionend\", onEndShow);\r\n\t}\r\n\r\n\tfunction onEndHide() {\r\n\t\tel.style.visibility = \"hidden\";\r\n\r\n\t\tel.removeEventListener(\"transitionend\", onEndHide);\r\n\r\n\t\tif(complete) {\r\n\t\t\tcomplete();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onEndShow() {\r\n\t\tif(el.offsetHeight - padding > 0) {\r\n\t\t\tel.style.height = \"auto\";\r\n\t\t}\r\n\r\n\t\tel.removeEventListener(\"transitionend\", onEndShow);\r\n\r\n\t\tif(complete) {\r\n\t\t\tcomplete();\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/**\r\n * Trap focus inside an element\r\n */\r\nCore.trapFocus = function(el) {\r\n\tlet focusableElements = [].slice.call(el.querySelectorAll(\"button, [href], input, select, textarea, [tabindex='0']\"));\r\n\tfocusableElements = focusableElements.filter(item => item.getAttribute(\"tabindex\") != \"-1\");\r\n\r\n\tconst firstFocusableElement = focusableElements[0];\r\n\tconst lastFocusableElement = focusableElements[focusableElements.length - 1];\r\n\r\n\tel.addEventListener(\"keydown\", function(e) {\r\n\t\tvar key = e.which || e.keyCode;\r\n\r\n\t\tif(key != 9) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif(e.shiftKey) {\r\n\t\t\tif(document.activeElement === firstFocusableElement) {\r\n\t\t\t\tlastFocusableElement.focus();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif(document.activeElement === lastFocusableElement) {\r\n\t\t\t\tfirstFocusableElement.focus();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\n// Add global shortcuts $ and $$\r\nif(!(typeof $ != \"undefined\")) {\r\n\tvar $ = Core;\r\n}\r\n\r\nconst $$ = Core.$$;\r\n\nclass Header {\r\n\r\n\tconstructor(el) {\r\n\t\tthis.el = el;\r\n\r\n\t\tthis.build();\r\n\t}\r\n\r\n\t/*\r\n\t * Build the header\r\n\t */\r\n\tbuild() {\r\n\t\tconst options = {\r\n\t\t\trootMargin: \"2px 0px 0px 0px\"\r\n\t\t};\r\n\r\n\t\tconst observer = new IntersectionObserver(entries => {\r\n\t\t\tentries.forEach(item => {\r\n\t\t\t\tif(item.isIntersecting) {\r\n\t\t\t\t\tthis.el.classList.remove(\"small\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.el.classList.add(\"small\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}, options);\r\n\r\n\t\tobserver.observe(this.el);\r\n\t}\r\n}\r\n\nclass Navigation {\r\n\r\n\tconstructor(el) {\r\n\t\tthis.el = el;\r\n\t\tthis.parentIsLink = true;\r\n\t\tthis.toggleButton = document.querySelector(\"#nav-button\");\r\n\t\tthis.touched = false;\r\n\t\tthis.navOpen = false;\r\n\r\n\t\tthis.build();\r\n\t}\r\n\r\n\t/**\r\n\t * Build the navigation\r\n\t */\r\n\tbuild() {\r\n\t\t// Menu button\r\n\t\tthis.toggleButton.addEventListener(\"click\", e => {\r\n\t\t\tif(!this.isMobileNavOpen()) {\r\n\t\t\t\tthis.open();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.close();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Close\r\n\t\tdocument.body.addEventListener(\"click\", e => {\r\n\t\t\tif(!this.el.contains(e.target) && this.isMobileNavOpen()) {\r\n\t\t\t\tthis.close();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Esc key\r\n\t\tthis.el.addEventListener(\"keydown\", e => {\r\n\t\t\tlet key = e.which || e.keyCode;\r\n\r\n\t\t\tif(key == 27) {\r\n\t\t\t\t// Close sub nav\r\n\t\t\t\tif(!this.isMobileNavOpen()) {\r\n\t\t\t\t\tthis.el.querySelectorAll(\".subnav-button\").forEach(item => {\r\n\t\t\t\t\t\titem.classList.remove(\"active\");\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tthis.el.querySelectorAll(\"ul\").forEach(item => {\r\n\t\t\t\t\t\titem.classList.remove(\"active\");\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Close mobile nav\r\n\t\t\t\tthis.close();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Remove transition when animation complete\r\n\t\tthis.el.addEventListener(\"transitionend\", e => {\r\n\t\t\tif(e.target == this.el.querySelector(\"div\") && e.propertyName == \"transform\") {\r\n\t\t\t\tdocument.documentElement.classList.remove(\"nav-open-transition\");\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Add events to parent items\r\n\t\tthis.el.querySelectorAll(\".menu-item-has-children\").forEach(i => {\r\n\t\t\ti.querySelector(\"a\").insertAdjacentHTML(\"afterend\", '<button class=\"subnav-button\" aria-label=\"Open sub-menu\"><svg width=\"12\" height=\"8\" viewBox=\"0 0 12 8\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M6.748 6.748a1.052 1.052 0 01-1.496 0L.31 1.808A1.059 1.059 0 011.722.24L1.8.31 6 4.505 10.193.31a1.059 1.059 0 011.567 1.411l-.07.078\" fill=\"#000\" fill-rule=\"nonzero\"/></svg></button>');\r\n\r\n\t\t\tconst subnavButton = i.querySelector(\".subnav-button\");\r\n\r\n\t\t\t// Subnav button\r\n\t\t\tsubnavButton.addEventListener(\"click\", e => {\r\n\t\t\t\te.stopPropagation();\r\n\r\n\t\t\t\t// if(!i.querySelector(\"ul\").classList.contains(\"active\")) {\r\n\t\t\t\t// \tthis.el.querySelectorAll(\".menu-item-has-children ul\").forEach(list => {\r\n\t\t\t\t// \t\tlist.classList.remove(\"active\");\r\n\t\t\t\t// \t});\r\n\t\t\t\t// }\r\n\t\t\t\tthis.toggleChildren(i, e.currentTarget);\r\n\r\n\t\t\t\tif(!this.isMobileNavOpen()) {\r\n\t\t\t\t\tif(i.querySelector(\"ul\").classList.contains(\"active\")) {\r\n\t\t\t\t\t\tthis.touched = true;\r\n\t\t\t\t\t\tthis.checkSubNavPosition(i);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tthis.touched = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tsubnavButton.setAttribute(\"aria-expanded\", false);\r\n\r\n\t\t\t// Touch support for hover menu\r\n\t\t\ti.addEventListener(\"touchstart\", e => {\r\n\t\t\t\te.stopPropagation();\r\n\r\n\t\t\t\tif(!i.closest(\".hover\")) {\r\n\t\t\t\t\tthis.clearSubNav();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(!this.isMobileNavOpen()) {\r\n\t\t\t\t\tif(!this.touched || !i.classList.contains(\"hover\")) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(!i.classList.contains(\"hover\")) {\r\n\t\t\t\t\t\ti.classList.add(\"hover\");\r\n\t\t\t\t\t\tthis.touched = true;\r\n\t\t\t\t\t\tthis.checkSubNavPosition(i);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\ti.addEventListener(\"mouseenter\", e => {\r\n\t\t\t\tif(!this.isMobileNavOpen()) {\r\n\t\t\t\t\tif(!this.touched) {\r\n\t\t\t\t\t\tthis.checkSubNavPosition(i);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\ti.addEventListener(\"mouseleave\", e => {\r\n\t\t\t\tconst ul = i.querySelector(\"ul\");\r\n\r\n\t\t\t\tif(!this.isMobileNavOpen()) {\r\n\t\t\t\t\ti.classList.remove(\"hover\");\r\n\t\t\t\t\tul.classList.remove(\"left\");\r\n\t\t\t\t\tul.classList.remove(\"right\");\r\n\t\t\t\t\tul.classList.remove(\"active\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t// Close all when touched outside\r\n\t\tdocument.addEventListener(\"touchstart\", e => {\r\n\t\t\tif(!this.el.contains(e.target)) {\r\n\t\t\t\tthis.clearSubNav();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Show active menu on page load\r\n\t\tthis.el.querySelectorAll(\".current-page-ancestor > ul\").forEach(item => {\r\n\t\t\tconst button = item.parentNode.querySelector(\".subnav-button\");\r\n\r\n\t\t\titem.classList.toggle(\"active-mobile\");\r\n\t\t\tbutton.classList.add(\"active\");\r\n\t\t\tbutton.setAttribute(\"aria-expanded\", button.classList.contains(\"active\"));\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Check if mobile nav is open\r\n\t */\r\n\tisMobileNavOpen() {\r\n\t\treturn document.documentElement.classList.contains(\"nav-open\") && this.toggleButton.offsetParent;\r\n\t}\r\n\r\n\t/**\r\n\t * Hide the floating sub nav\r\n\t */\r\n\tclearSubNav() {\r\n\t\tthis.el.querySelectorAll(\".menu-item-has-children\").forEach(item => {\r\n\t\t\titem.classList.remove(\"hover\");\r\n\t\t});\r\n\r\n\t\tthis.touched = false;\r\n\t}\r\n\r\n\t/**\r\n\t * Check if the sub nav is out of bounds\r\n\t */\r\n\tcheckSubNavPosition(el) {\r\n\t\tconst ul = el.querySelector(\"ul\");\r\n\t\tconst pos = ul.getBoundingClientRect().left;\r\n\t\tconst margin = 10;\r\n\r\n\t\tif(pos + ul.offsetWidth > window.innerWidth - margin) {\r\n\t\t\tul.classList.add(\"right\");\r\n\t\t}\r\n\r\n\t\tif(pos < margin) {\r\n\t\t\tul.classList.add(\"left\");\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Open the mobile nav\r\n\t */\r\n\topen() {\r\n\t\tdocument.documentElement.classList.add(\"nav-open\");\r\n\t\tdocument.documentElement.classList.add(\"nav-open-transition\");\r\n\r\n\t\tthis.el.querySelector(\"div\").scrollTop = 0;\r\n\t\tthis.toggleButton.setAttribute(\"aria-expanded\", true);\r\n\t\tthis.navOpen = true;\r\n\t}\r\n\r\n\t/**\r\n\t * Close the mobile nav\r\n\t */\r\n\tclose() {\r\n\t\tdocument.documentElement.classList.remove(\"nav-open\");\r\n\t\tdocument.documentElement.classList.add(\"nav-open-transition\");\r\n\r\n\t\tthis.toggleButton.setAttribute(\"aria-expanded\", false);\r\n\t\tthis.navOpen = false;\r\n\t}\r\n\r\n\t/**\r\n\t * Toggle the sub nav\r\n\t */\r\n\ttoggleChildren(item, button) {\r\n\t\t// Toggle with animation\r\n\t\tif(this.isMobileNavOpen()) {\r\n\t\t\tCore.slideToggle(item.querySelector(\"ul\"), () => {\r\n\t\t\t\tif(item.querySelector(\"ul\").style.visibility == \"hidden\") {\r\n\t\t\t\t\t// item.classList.remove(\"hover\");\r\n\t\t\t\t\tbutton.classList.remove(\"active\");\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// item.classList.add(\"hover\");\r\n\t\t\t\t\tbutton.classList.add(\"active\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\titem.querySelector(\"ul\").classList.toggle(\"active\");\r\n\t\t}\r\n\r\n\t\t// Toggle without animation\r\n\t\t// item.querySelector(\"ul\").classList.toggle(\"active\");\r\n\r\n\t\t// item.classList.toggle(\"hover\");\r\n\t\tbutton.classList.toggle(\"active\");\r\n\t\tbutton.setAttribute(\"aria-expanded\", button.classList.contains(\"active\"));\r\n\t}\r\n}\r\n\nclass App {\r\n\r\n\tconstructor(queue) {\r\n\t\tthis.isReady = false;\r\n\t\tthis.readyQueue = queue;\r\n\r\n\t\tthis.init();\r\n\t}\r\n\r\n\t/**\r\n\t * Initialize app when DOM ready\r\n\t */\r\n\tinit() {\r\n\t\tCore.ready(() => {\r\n\t\t\tthis.isReady = true;\r\n\t\t\tthis.start();\r\n\t\t\tthis.processQueue();\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Add function to the ready queue\r\n\t */\r\n\tready(fn) {\r\n\t\tif(this.isReady) {\r\n\t\t\tfn();\r\n\t\t} else {\r\n\t\t\tthis.readyQueue.push(fn);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Process the ready queue\r\n\t */\r\n\tprocessQueue() {\r\n\t\twhile(this.readyQueue.length) {\r\n\t\t\tthis.readyQueue.shift()();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * App entry point\r\n\t */\r\n\tstart() {\r\n\t\t// Focus visible\r\n\t\tthis.focusVisible();\r\n\r\n\t\t// Header\r\n\t\tnew Header(document.querySelector(\"#header\"));\r\n\r\n\t\t// Navigation\r\n\t\tnew Navigation(document.querySelector(\"#navigation\"));\r\n\t}\r\n\r\n\t/**\r\n\t * Add focus outline to buttons only when keyboard-focused\r\n\t */\r\n\tfocusVisible() {\r\n\t\tdocument.documentElement.classList.add(\"focus-visible\");\r\n\r\n\t\tconst onBlur = e => {\r\n\t\t\te.target.classList.remove(\"focus-visible\");\r\n\t\t};\r\n\r\n\t\tdocument.body.addEventListener(\"keyup\", e => {\r\n\t\t\tvar key = e.which || e.keyCode;\r\n\r\n\t\t\tif(key === 9) {\r\n\t\t\t\tconst activeElement = document.activeElement;\r\n\r\n\t\t\t\tif(!activeElement.classList.contains(\"focus-visible\")) {\r\n\t\t\t\t\tactiveElement.classList.add(\"focus-visible\");\r\n\t\t\t\t\tactiveElement.addEventListener(\"blur\", onBlur);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\napp = new App(app.queue);\r\n"]}